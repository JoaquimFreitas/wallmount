<html>
  <head>
    <title>Layout Test</title>
    <link rel="stylesheet" type="text/css"
          href="../public/js/hyperic/wallmount/resources/PlayerCombined.css" />
  
    <script type="text/javascript"
            src="../public/js/dojo/dojo.js"
            djConfig="parseOnLoad: false, isDebug: false, locale: 'en'"></script>
          
    <script type="text/javascript">
      dojo.require('dojo.parser');
      dojo.addOnLoad(function(){
        dojo.parser.parse();
        
        hyperic.wallmount.base.metricStore = new hyperic.data.MetricStore(
            {url: "/hqu/wmvisualizer/metricstore/getMetrics.hqu",
             idToBaseUrl: false}
        );
        
        hyperic.wallmount.base.metricStore.sync(true);
  
        var json = '${layoutJson}';
        hyperic.wallmount.Player.useLayout(dojo.fromJson(json),true);
        
      });
    </script>
        
  </head>
  <body class="claro">
    <div dojoType="hyperic.wallmount.Registry"
         id="registry"
         jsId="hyperic.wallmount.Registry._registry"
         plugins="[
             {plugin: 'hyperic.widget.EllipseLabel', internal:{bgImageURI:'/hqu/wmvisualizer/image/getScaledImage.hqu?path=js/hyperic/widget/label/resources/ellipse-green.png&w=${!bgImageWidth}&h=${!bgImageHeight}'}},
             {plugin: 'hyperic.widget.AvailText', internal:{bgImageURI:'/hqu/wmvisualizer/image/getScaledImage.hqu?path=js/hyperic/widget/avail/resources/${!bgImageStatus}-ellipse.png&w=${!bgImageWidth}&h=${!bgImageHeight}'}},
             {plugin: 'hyperic.widget.AvailIcon', internal:{bgImageURI:'/hqu/wmvisualizer/image/getScaledImage.hqu?path=js/hyperic/widget/avail/resources/${!bgImageStatus}-${!bgImageRes}.png&w=${!bgImageWidth}&h=${!bgImageHeight}'}}
         ]"></div>
    <div id="wallmountpane"></div>
  </body>
</html>